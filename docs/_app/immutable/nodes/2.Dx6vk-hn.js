import{f as T,a as w,c as qe,t as Ve}from"../chunks/2nrINpoM.js";import"../chunks/Ce3UzmR8.js";import{j as Ee,aW as Ye,aQ as Je,b as W,a6 as Ge,x as oe,aX as Ke,_ as ce,a0 as z,a1 as ie,a4 as g,a2 as p,g as s,z as H,ad as v,a3 as d,$ as ne,m as Re,e as se,aY as Xe,am as Se}from"../chunks/XdnX5puW.js";import{e as R,s as A}from"../chunks/OiQYT4Tg.js";import{i as F}from"../chunks/cV7mX2QQ.js";import{e as Be,i as He}from"../chunks/B0ezyt36.js";import{s as Qe}from"../chunks/BZkn84eA.js";import{i as le}from"../chunks/CExB7J8A.js";import{c as $e}from"../chunks/Dm4jRLCS.js";import{b as Ze,p as D}from"../chunks/DbeSBaHL.js";import{b as et}from"../chunks/DOU6VNxA.js";function tt(e,t,r){var n=e==null?"":""+e;return t&&(n=n?n+" "+t:t),n===""?null:n}function Ne(e,t,r,n,o,a){var c=e.__className;if(Ee||c!==r||c===void 0){var i=tt(r,n);(!Ee||i!==e.getAttribute("class"))&&(i==null?e.removeAttribute("class"):e.className=i),e.__className=r}return a}function nt(e,t,r=t){var n=new WeakSet;Ye(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=Ae(e)?Pe(a):a,r(a),oe!==null&&n.add(oe),await Je(),a!==(a=t())){var c=e.selectionStart,i=e.selectionEnd,l=e.value.length;if(e.value=a??"",i!==null){var u=e.value.length;c===i&&i===l&&u>l?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=c,e.selectionEnd=Math.min(i,u))}}}),(Ee&&e.defaultValue!==e.value||W(t)==null&&e.value)&&(r(Ae(e)?Pe(e.value):e.value),oe!==null&&n.add(oe)),Ge(()=>{var o=t();if(e===document.activeElement){var a=Ke??oe;if(n.has(a))return}Ae(e)&&o===Pe(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Ae(e){var t=e.type;return t==="number"||t==="range"}function Pe(e){return e===""?null:+e}const rt=!0,rn=Object.freeze(Object.defineProperty({__proto__:null,prerender:rt},Symbol.toStringTag,{value:"Module"}));var at=T('<div role="button" tabindex="0" aria-label="Upload .torrent file"><label for="file-upload" class="form-label svelte-heqs4d">Drop .torrent file here or click to upload</label> <input id="file-upload" type="file" accept=".torrent" class="d-none"/></div>');function ot(e,t){ce(t,!1);const r=$e();let n=H(),o=H(!1);const a=(...m)=>{},c=(...m)=>{};function i(m){try{a("Drop event triggered",m),m.preventDefault(),v(o,!1);const P=m.dataTransfer?.files[0];if(!P){c("No file in dataTransfer");return}if(a("Dropped file:",P.name,P.size,"bytes"),!P.name.endsWith(".torrent")){alert("Please upload a .torrent file");return}r("upload",P),a("File dispatched to parent")}catch{}}function l(m){try{m.preventDefault(),v(o,!0),a("Drag over")}catch{}}function u(){try{v(o,!1),a("Drag leave")}catch{}}function f(){try{const m=s(n).files?.[0];if(!m){c("No file selected");return}a("File input changed:",m.name,m.size,"bytes"),r("upload",m),a("File dispatched from input")}catch{}}function x(){try{a("Drop zone clicked → opening file picker"),s(n).click()}catch{}}function k(m){try{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a("Keyboard activation → opening file picker"),s(n).click())}catch{}}le();var y=at(),E=g(p(y),2);Ze(E,m=>v(n,m),()=>s(n)),d(y),z(()=>Ne(y,1,`drop-zone ${s(o)?"drag-over":""}`,"svelte-heqs4d")),R("change",E,f),R("drop",y,i),R("dragover",y,l),R("dragleave",y,u),R("click",y,x),R("keydown",y,k),w(e,y),ie()}var st=T('<span class="text-muted">UDP (not checked)</span>'),ct=T('<span class="text-success">Success</span>'),it=T('<br/><small class="text-danger"> </small>',1),lt=T('<span class="text-danger">Failed</span> <!>',1),ut=T('<span class="text-muted">—</span>'),dt=T('<tr><td class="text-break" style="max-width: 300px;"><small> </small></td><td><span> </span></td><td><!></td><td><!></td></tr>'),pt=T('<h5 class="mt-4"> </h5> <div class="table-responsive"><table class="table table-sm table-striped align-middle"><thead class="table-light"><tr><th>URL</th><th>Public</th><th>Status</th><th>Time</th></tr></thead><tbody></tbody></table></div>',1),ht=T('<div class="tracker-table"></div>');function gt(e,t){ce(t,!1);let r=D(t,"tieredTrackers",24,()=>[]),n=D(t,"checkResults",24,()=>[]),o=D(t,"publicFlags",24,()=>[]);function a(i){return n().find(l=>l.url===i)}le();var c=ht();Be(c,5,r,He,(i,l)=>{let u=()=>s(l).tier,f=()=>s(l).trackers;var x=pt(),k=ne(x),y=p(k);d(k);var E=g(k,2),m=p(E),P=g(p(m));Be(P,5,f,He,(Z,I,q)=>{const U=Re(()=>(s(I),W(()=>a(s(I))))),V=Re(()=>(se(o()),W(()=>o()[q])));var $=dt(),O=p($),ee=p(O),K=p(ee,!0);d(ee),d(O);var Y=g(O),j=p(Y),J=p(j,!0);d(j),d(Y);var N=g(Y),X=p(N);{var me=B=>{var C=st();w(B,C)},ve=B=>{var C=qe(),de=ne(C);{var pe=G=>{var h=ct();w(G,h)},he=G=>{var h=lt(),b=g(ne(h),2);{var S=_=>{var L=it(),M=g(ne(L)),ae=p(M,!0);d(M),z(()=>A(ae,(se(s(U)),W(()=>s(U).error)))),w(_,L)};F(b,_=>{se(s(U)),W(()=>s(U)?.error)&&_(S)})}w(G,h)};F(de,G=>{se(s(U)),W(()=>s(U)?.success)?G(pe):G(he,!1)},!0)}w(B,C)};F(X,B=>{s(I),W(()=>s(I).startsWith("udp://"))?B(me):B(ve,!1)})}d(N);var re=g(N),ke=p(re);{var ue=B=>{var C=ut();w(B,C)},be=B=>{var C=Ve();z(()=>A(C,`${se(s(U)),W(()=>s(U)?.time??"N/A")??""} ms`)),w(B,C)};F(ke,B=>{s(I),W(()=>s(I).startsWith("udp://"))?B(ue):B(be,!1)})}d(re),d($),z(()=>{A(K,s(I)),Ne(j,1,`badge ${s(V)?"bg-success":"bg-secondary"}`),A(J,s(V)?"Yes":"No")}),w(Z,$)}),d(P),d(m),d(E),z(()=>A(y,`Tier ${u()??""}`)),w(i,x)}),d(c),w(e,c),ie()}var ft=T('<button class="btn btn-sm btn-outline-primary">Copy Hash</button>'),mt=T('<div class="card mb-3"><div class="card-header d-flex justify-content-between align-items-center"><span>Summary</span> <!></div> <ul class="list-group list-group-flush"><li class="list-group-item d-flex justify-content-between"><span>Info Hash (hex):</span> <code class="text-break" style="font-size: 0.8em;"> </code></li> <li class="list-group-item d-flex justify-content-between"><span>Info Hash (base32):</span> <code class="text-break" style="font-size: 0.8em;"> </code></li> <li class="list-group-item d-flex justify-content-between"><span>Total Trackers:</span> <strong> </strong></li> <li class="list-group-item d-flex justify-content-between"><span>Reachable:</span> <strong class="text-success"> </strong></li> <li class="list-group-item d-flex justify-content-between"><span>Private:</span> <strong> </strong></li></ul></div>');function vt(e,t){let r=D(t,"infoHash",8,""),n=D(t,"infoHashBase32",8,""),o=D(t,"totalTrackers",8,0),a=D(t,"reachable",8,0),c=D(t,"isPrivate",8,null);function i(){navigator.clipboard.writeText(r()),alert("Info Hash copied to clipboard!")}var l=mt(),u=p(l),f=g(p(u),2);{var x=J=>{var N=ft();R("click",N,i),w(J,N)};F(f,J=>{r()&&J(x)})}d(u);var k=g(u,2),y=p(k),E=g(p(y),2),m=p(E,!0);d(E),d(y);var P=g(y,2),Z=g(p(P),2),I=p(Z,!0);d(Z),d(P);var q=g(P,2),U=g(p(q),2),V=p(U,!0);d(U),d(q);var $=g(q,2),O=g(p($),2),ee=p(O);d(O),d($);var K=g($,2),Y=g(p(K),2),j=p(Y,!0);d(Y),d(K),d(k),d(l),z(()=>{A(m,r()),A(I,n()),A(V,o()),A(ee,`${a()??""} / ${o()??""}`),A(j,c()===null?"N/A":c()?"Yes":"No")}),w(e,l)}const ge=(...e)=>!1;function kt(e,t,r){try{ge("Starting JSON export...");const n=[];let o=0;e.forEach(({tier:u,trackers:f})=>{f.forEach((x,k)=>{const y=t.find(m=>m.url===x)||null,E=r[k]||!1;n.push({url:x,tier:u,isPublic:E,check:y}),o++})}),ge(`Prepared ${o} tracker entries for export`);const a=JSON.stringify({trackers:n},null,2);ge(`JSON generated: ${a.length} characters`);const c=new Blob([a],{type:"application/json;charset=utf-8"}),i=URL.createObjectURL(c),l=document.createElement("a");l.href=i,l.download="torrent-trackers.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),ge("JSON download triggered: torrent-trackers.json")}catch{alert("Failed to export JSON. Check console for details.")}}const Q=(...e)=>!1;function te(e){return`"${e.replace(/"/g,'""')}"`}function bt(e){try{Q("Starting CSV export...");const t=[];if(Q("Adding summary section"),t.push("Section,Key,Value"),t.push(`Summary,Info Hash (hex),${te(e.infoHash)}`),t.push(`Summary,Info Hash (base32),${te(e.infoHashBase32)}`),t.push(`Summary,Private,${"isPrivate"in e?e.isPrivate?"Yes":"No":"N/A"}`),"name"in e&&t.push(`Summary,Name,${te(e.name||"")}`),"files"in e){const c=e.files.reduce((i,l)=>i+l.length,0);t.push(`Summary,File Count,${e.files.length}`),t.push(`Summary,Total Size,${c}`),Q(`File summary: ${e.files.length} files, ${c} bytes`)}Q(`Adding ${e.trackers.flat().length} trackers from ${e.trackers.length} tiers`),t.push(""),t.push("Tier,URL,Is Public,Success,Time (ms),Status,Error"),e.trackers.forEach((c,i)=>{c.forEach((l,u)=>{const f=e.checkResults.find(k=>k.url===l)||{success:!1,time:0,status:void 0,error:"Not checked"},x=e.publicFlags[u]||!1;t.push([i.toString(),te(l),x?"Yes":"No",f.success?"Yes":"No",f.time.toString(),f.status?.toString()||"",te(f.error||"")].join(","))})}),"files"in e&&(Q(`Adding ${e.files.length} file entries`),t.push(""),t.push("Files,Path,Size (bytes)"),e.files.forEach(c=>{t.push(`Files,${te(c.path)},${c.length}`)}));const r=t.join(`
`);Q(`CSV generated: ${r.length} characters`);const n=new Blob([r],{type:"text/csv;charset=utf-8"}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download="torrent-analysis.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),Q("CSV download triggered: torrent-analysis.csv")}catch{alert("Failed to export CSV. Check console for details.")}}var yt=T('<div class="mt-3"><button class="btn btn-secondary me-2">Export JSON ↓</button> <button class="btn btn-secondary">Export CSV ↓</button></div>');function wt(e,t){ce(t,!1);let r=D(t,"tieredTrackers",24,()=>[]),n=D(t,"checkResults",24,()=>[]),o=D(t,"publicFlags",24,()=>[]),a=D(t,"analysisData",8,null);function c(){kt(r(),n(),o())}function i(){a()&&bt({...a(),checkResults:n(),publicFlags:o()})}le();var l=yt(),u=p(l),f=g(u,2);d(l),z(()=>{u.disabled=!a(),f.disabled=!a()}),R("click",u,c),R("click",f,i),w(e,l),ie()}var xt=T('<button class="btn btn-danger ms-2">Reset</button>');function _t(e,t){ce(t,!1);const r=$e();le();var n=xt();R("click",n,()=>r("click")),w(e,n),ie()}function Tt(e){let t=0;function r(){const o=e[t],a=String.fromCharCode(o);if(a==="d"){t++;const c={};for(;String.fromCharCode(e[t])!=="e";){const i=r(),l=r();c[i]=l}return t++,c}else if(a==="l"){t++;const c=[];for(;String.fromCharCode(e[t])!=="e";)c.push(r());return t++,c}else if(a==="i"){t++;const c=e.findIndex((u,f)=>f>=t&&u===101),i=new TextDecoder().decode(e.subarray(t,c)),l=Number(i);return t=c+1,l}else if(o>=48&&o<=57){const c=e.findIndex((f,x)=>x>=t&&f===58),i=new TextDecoder().decode(e.subarray(t,c)),l=parseInt(i,10);t=c+1;const u=new TextDecoder().decode(e.subarray(t,t+l));return t+=l,u}else throw new Error(`Invalid bencode at position ${t}`)}const n=r();if(t!==e.length)throw new Error("Extra data after parsing");return n}function fe(e){if(typeof e=="number"&&Number.isInteger(e))return new TextEncoder().encode(`i${e}e`);if(typeof e=="string"){const t=new TextEncoder().encode(e);return Uint8Array.from([...new TextEncoder().encode(`${t.length}:`),...t])}else if(Array.isArray(e)){const t=e.map(fe);let r=new Uint8Array;for(const c of t){const i=new Uint8Array(r.length+c.length);i.set(r),i.set(c,r.length),r=i}const n=new TextEncoder().encode("l"),o=new TextEncoder().encode("e"),a=new Uint8Array(n.length+r.length+o.length);return a.set(n),a.set(r,n.length),a.set(o,n.length+r.length),a}else if(typeof e=="object"&&e!==null){const t=Object.keys(e).sort();let r=new Uint8Array;for(const c of t){const i=fe(c),l=fe(e[c]),u=new Uint8Array(r.length+i.length+l.length);u.set(r),u.set(i,r.length),u.set(l,r.length+i.length),r=u}const n=new TextEncoder().encode("d"),o=new TextEncoder().encode("e"),a=new Uint8Array(n.length+r.length+o.length);return a.set(n),a.set(r,n.length),a.set(o,n.length+r.length),a}else throw new Error("Unsupported type for bencoding")}const Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";function St(e){let t=0,r=0,n="";for(const a of e)for(r=r<<8|a,t+=8;t>=5;)n+=Fe[r>>>t-5&31],t-=5;t>0&&(n+=Fe[r<<5-t&31]);const o=Math.ceil(e.length*8/5)-n.length;return n+"=".repeat(o)}async function At(e){const t=await e.arrayBuffer(),r=new Uint8Array(t),n=Tt(r);if(!n.info)throw new Error("Invalid torrent file: missing info");const o=fe(n.info),a=await crypto.subtle.digest("SHA-1",o),c=new Uint8Array(a),i=Array.from(c).map(k=>k.toString(16).padStart(2,"0")).join(""),l=St(c);let u=[];n["announce-list"]?u=n["announce-list"].map(k=>k.filter(y=>typeof y=="string")):n.announce&&typeof n.announce=="string"&&(u=[[n.announce]]);const f=!!n.info.private&&n.info.private===1;let x=[];return n.info.files?x=n.info.files.map(k=>({path:Array.isArray(k.path)?k.path.join("/"):k.path,length:k.length})):x=[{path:n.info.name,length:n.info.length}],{infoHash:i,infoHashBase32:l,trackers:u,isPrivate:f,files:x}}const Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";function Pt(e){e=e.toUpperCase().replace(/=/g,"");let t=0,r=0;const n=[];for(const o of e){const a=Ue.indexOf(o);if(a===-1)throw new Error("Invalid base32 character");for(r=r<<5|a,t+=5;t>=8;)n.push(r>>>t-8&255),t-=8}return new Uint8Array(n)}function Et(e){let t=0,r=0,n="";for(const a of e)for(r=r<<8|a,t+=8;t>=5;)n+=Ue[r>>>t-5&31],t-=5;t>0&&(n+=Ue[r<<5-t&31]);const o=Math.ceil(e.length*8/5)-n.length;return n+"=".repeat(o)}function Bt(e){if(!e.startsWith("magnet:?"))throw new Error("Invalid magnet URI");const t=new URLSearchParams(e.slice(8)),r=t.get("xt");if(!r||!r.startsWith("urn:btih:"))throw new Error("Missing or invalid xt parameter (btih)");let n=r.slice(9),o="",a="";if(n.length===40){o=n.toLowerCase();const u=new Uint8Array(20);for(let f=0;f<40;f+=2)u[f/2]=parseInt(o.slice(f,f+2),16);a=Et(u)}else if(n.length===32){a=n.toUpperCase();const u=Pt(n);if(u.length!==20)throw new Error("Invalid btih length");o=Array.from(u).map(f=>f.toString(16).padStart(2,"0")).join("")}else throw new Error("Invalid btih length");const i=t.getAll("tr").map(u=>[u]),l=t.get("dn")||void 0;return{infoHash:o,infoHashBase32:a,trackers:i,name:l}}const Ht="https://corsproxy.io/?";async function Ut(e){const t=performance.now();let r=e;if(location.protocol==="https:"&&r.startsWith("http://")){const n=Ht+encodeURIComponent(r);return await Dt(n,e,t)}return r.startsWith("udp://")?{url:r,success:!1,time:0,error:"UDP not supported in browser"}:await zt(r,e,t)}async function zt(e,t,r){const n=new AbortController,o=setTimeout(()=>n.abort(),5e3);try{await fetch(e,{method:"HEAD",signal:n.signal,mode:"no-cors",credentials:"omit"}),clearTimeout(o);const a=Math.round(performance.now()-r);return{url:t,success:!0,time:a}}catch(a){clearTimeout(o);const c=Math.round(performance.now()-r),i=a.name==="AbortError"?"Timeout":a.message;return{url:t,success:!1,time:c,error:i}}}async function Dt(e,t,r){const n=new AbortController,o=setTimeout(()=>n.abort(),3e5);try{let a=await fetch(e,{method:"HEAD",signal:n.signal,mode:"cors",credentials:"omit"});if(!a.ok&&a.type==="cors"&&(log("HEAD failed, trying GET via proxy"),a=await fetch(e,{method:"GET",signal:n.signal,mode:"cors",credentials:"omit"})),clearTimeout(o),!a.ok){const f=Math.round(performance.now()-r);return{url:t,success:!1,time:f,error:`Proxy status ${a.status}`}}const c=Math.round(performance.now()-r),i=a.headers.get("x-cors-api-status")||a.headers.get("access-control-expose-headers"),l=i?parseInt(i):a.status,u=l>=200&&l<500;return{url:t,success:u,time:c,status:l,error:u?void 0:`Tracker returned ${l}`}}catch(a){clearTimeout(o);const c=Math.round(performance.now()-r),i=a.name==="AbortError"?"Proxy timeout (5 mins)":a.message;return{url:t,success:!1,time:c,error:i}}}async function It(e,t=10){const r=(...o)=>!1;r(`Starting batch check of ${e.length} trackers (max ${t} concurrent)`);const n=[];for(let o=0;o<e.length;o+=t){const a=e.slice(o,o+t);r(`Checking batch ${o/t+1}: ${a.join(", ")}`);const c=await Promise.all(a.map(Ut));n.push(...c)}return r(`All ${n.length} checks completed`),n}const Ct=["udp://public.popcorn-tracker.org:6969/announce","http://104.28.1.30:8080/announce","http://104.28.16.69/announce","http://107.150.14.110:6969/announce","http://109.121.134.121:1337/announce","http://114.55.113.60:6969/announce","http://125.227.35.196:6969/announce","http://128.199.70.66:5944/announce","http://157.7.202.64:8080/announce","http://158.69.146.212:7777/announce","http://173.254.204.71:1096/announce","http://178.175.143.27/announce","http://178.33.73.26:2710/announce","http://182.176.139.129:6969/announce","http://185.5.97.139:8089/announce","http://188.165.253.109:1337/announce","http://194.106.216.222/announce","http://195.123.209.37:1337/announce","http://210.244.71.25:6969/announce","http://210.244.71.26:6969/announce","http://213.159.215.198:6970/announce","http://213.163.67.56:1337/announce","http://37.19.5.139:6969/announce","http://37.19.5.155:6881/announce","http://46.4.109.148:6969/announce","http://5.79.249.77:6969/announce","http://5.79.83.193:2710/announce","http://51.254.244.161:6969/announce","http://59.36.96.77:6969/announce","http://74.82.52.209:6969/announce","http://80.246.243.18:6969/announce","http://81.200.2.231/announce","http://85.17.19.180/announce","http://87.248.186.252:8080/announce","http://87.253.152.137/announce","http://91.216.110.47/announce","http://91.217.91.21:3218/announce","http://91.218.230.81:6969/announce","http://93.92.64.5/announce","http://atrack.pow7.com/announce","http://bt.henbt.com:2710/announce","http://bt.pusacg.org:8080/announce","http://bt2.careland.com.cn:6969/announce","http://explodie.org:6969/announce","http://mgtracker.org:2710/announce","http://mgtracker.org:6969/announce","http://open.acgtracker.com:1096/announce","http://open.lolicon.eu:7777/announce","http://open.touki.ru/announce.php","http://p4p.arenabg.ch:1337/announce","http://p4p.arenabg.com:1337/announce","http://pow7.com:80/announce","http://retracker.gorcomnet.ru/announce","http://retracker.krs-ix.ru/announce","http://retracker.krs-ix.ru:80/announce","http://secure.pow7.com/announce","http://t1.pow7.com/announce","http://t2.pow7.com/announce","http://thetracker.org:80/announce","http://torrent.gresille.org/announce","http://torrentsmd.com:8080/announce","http://tracker.aletorrenty.pl:2710/announce","http://tracker.baravik.org:6970/announce","http://tracker.bittor.pw:1337/announce","http://tracker.bittorrent.am/announce","http://tracker.calculate.ru:6969/announce","http://tracker.dler.org:6969/announce","http://tracker.dutchtracking.com/announce","http://tracker.dutchtracking.com:80/announce","http://tracker.dutchtracking.nl/announce","http://tracker.dutchtracking.nl:80/announce","http://tracker.edoardocolombo.eu:6969/announce","http://tracker.ex.ua/announce","http://tracker.ex.ua:80/announce","http://tracker.filetracker.pl:8089/announce","http://tracker.flashtorrents.org:6969/announce","http://tracker.grepler.com:6969/announce","http://tracker.internetwarriors.net:1337/announce","http://tracker.kicks-ass.net/announce","http://tracker.kicks-ass.net:80/announce","http://tracker.kuroy.me:5944/announce","http://tracker.mg64.net:6881/announce","http://tracker.opentrackr.org:1337/announce","http://tracker.skyts.net:6969/announce","http://tracker.tfile.me/announce","http://tracker.tiny-vps.com:6969/announce","http://tracker.tvunderground.org.ru:3218/announce","http://tracker.yoshi210.com:6969/announce","http://tracker1.wasabii.com.tw:6969/announce","http://tracker2.itzmx.com:6961/announce","http://tracker2.wasabii.com.tw:6969/announce","http://www.wareztorrent.com/announce","http://www.wareztorrent.com:80/announce","https://104.28.17.69/announce","https://www.wareztorrent.com/announce","udp://107.150.14.110:6969/announce","udp://109.121.134.121:1337/announce","udp://114.55.113.60:6969/announce","udp://128.199.70.66:5944/announce","udp://151.80.120.114:2710/announce","udp://168.235.67.63:6969/announce","udp://178.33.73.26:2710/announce","udp://182.176.139.129:6969/announce","udp://185.5.97.139:8089/announce","udp://185.86.149.205:1337/announce","udp://188.165.253.109:1337/announce","udp://191.101.229.236:1337/announce","udp://194.106.216.222:80/announce","udp://195.123.209.37:1337/announce","udp://195.123.209.40:80/announce","udp://208.67.16.113:8000/announce","udp://213.163.67.56:1337/announce","udp://37.19.5.155:2710/announce","udp://46.4.109.148:6969/announce","udp://5.79.249.77:6969/announce","udp://5.79.83.193:6969/announce","udp://51.254.244.161:6969/announce","udp://62.138.0.158:6969/announce","udp://62.212.85.66:2710/announce","udp://74.82.52.209:6969/announce","udp://85.17.19.180:80/announce","udp://89.234.156.205:80/announce","udp://9.rarbg.com:2710/announce","udp://9.rarbg.me:2780/announce","udp://9.rarbg.to:2730/announce","udp://91.218.230.81:6969/announce","udp://94.23.183.33:6969/announce","udp://bt.xxx-tracker.com:2710/announce","udp://eddie4.nl:6969/announce","udp://explodie.org:6969/announce","udp://mgtracker.org:2710/announce","udp://open.stealth.si:80/announce","udp://p4p.arenabg.com:1337/announce","udp://shadowshq.eddie4.nl:6969/announce","udp://shadowshq.yi.org:6969/announce","udp://torrent.gresille.org:80/announce","udp://tracker.aletorrenty.pl:2710/announce","udp://tracker.bittor.pw:1337/announce","udp://tracker.coppersurfer.tk:6969/announce","udp://tracker.eddie4.nl:6969/announce","udp://tracker.ex.ua:80/announce","udp://tracker.filetracker.pl:8089/announce","udp://tracker.flashtorrents.org:6969/announce","udp://tracker.grepler.com:6969/announce","udp://tracker.ilibr.org:80/announce","udp://tracker.internetwarriors.net:1337/announce","udp://tracker.kicks-ass.net:80/announce","udp://tracker.kuroy.me:5944/announce","udp://tracker.leechers-paradise.org:6969/announce","udp://tracker.mg64.net:2710/announce","udp://tracker.mg64.net:6969/announce","udp://tracker.opentrackr.org:1337/announce","udp://tracker.piratepublic.com:1337/announce","udp://tracker.sktorrent.net:6969/announce","udp://tracker.skyts.net:6969/announce","udp://tracker.tiny-vps.com:6969/announce","udp://tracker.yoshi210.com:6969/announce","udp://tracker2.indowebster.com:6969/announce","udp://tracker4.piratux.com:6969/announce","udp://zer0day.ch:1337/announce","udp://zer0day.to:1337/announce"];function Rt(e){return e.map((t,r)=>({tier:r,trackers:t}))}function Ft(e){return Ct.includes(e)}var $t=T('<div class="alert alert-success d-flex align-items-center mt-3" role="alert"><svg class="bi flex-shrink-0 me-2" width="20" height="20" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"></use></svg> <div><strong>Uploaded:</strong> <code> </code> </div></div>'),Nt=T('<div class="alert alert-info d-flex align-items-center mt-3" role="alert"><svg class="bi flex-shrink-0 me-2" width="20" height="20" role="img" aria-label="Info:"><use xlink:href="#info-fill"></use></svg> <div><strong>Magnet link ready:</strong> <code class="text-break" style="font-size:0.85em;"> </code></div></div>'),Lt=T('<div class="text-center my-4"><div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"><span class="visually-hidden">Analyzing torrent...</span></div> <p class="mt-2 text-muted">Checking trackers and parsing metadata...</p></div>'),Mt=T('<div class="alert alert-danger"> </div>'),Ot=T('<div class="list-group-item d-flex justify-content-between align-items-center"><span class="text-break" style="max-width: 70%;"> </span> <span class="badge bg-light text-dark"> </span></div>'),jt=T('<div class="card mb-3"><div class="card-header"> </div> <div class="card-body p-0"><div class="list-group list-group-flush"></div></div></div>'),Wt=T('<!> <!> <h4 class="mt-4">Trackers by Tier</h4> <!> <!>',1),qt=T(`<div class="page-container"><h1 class="mb-4">Torrent Tracker Analyzer</h1> <!> <!> <!> <div class="mb-3"><label for="magnet-input" class="form-label">Paste magnet link</label> <textarea id="magnet-input" class="form-control" rows="2" placeholder="magnet:?xt=urn:btih:..."></textarea></div> <div class="d-flex gap-2 mb-3"><button class="btn btn-primary"> </button> <!></div> <!> <!> <!></div> <div id="about" class="page-section page-container"><h2>About the Torrent Tracker Analyzer</h2> <p>The <strong>Torrent Tracker Analyzer</strong> is a <em>free, open-source, privacy-first</em> web tool developed by <strong>AxelBase</strong> to help users inspect, validate, and debug <code>.torrent</code> files and <code>magnet:</code> links with surgical precision — all without installing software or sending data to any server.</p> <p>Built with modern web technologies (SvelteKit, TypeScript, and Web APIs), this tool runs <strong>entirely in your browser</strong>. Whether you're a torrent enthusiast, a developer debugging tracker issues, or a content creator verifying metadata, this analyzer gives you real-time, actionable insights into:</p> <ul class="feature-list"><li><strong>Tracker Health</strong>: Live reachability checks for HTTP/HTTPS trackers</li> <li><strong>Tiered Tracker Lists</strong>: Visual grouping as defined in the torrent spec</li> <li><strong>Info Hash</strong>: Both hex and base32 formats for cross-client compatibility</li> <li><strong>File Lists</strong>: Full path and size breakdown for multi-file torrents</li> <li><strong>Privacy Detection</strong>: Identifies private torrents and public tracker usage</li> <li><strong>Export Tools</strong>: Download results in CSV or JSON for documentation</li></ul> <h3>Why We Built This</h3> <p>Torrent users frequently face mysterious issues: <em>“Why is my torrent not connecting?”</em> or <em>“Are these trackers even alive?”</em> Traditional clients only show peer counts — not whether the tracker is responding. This tool answers those questions in seconds.</p> <p>We also noticed a gap in <strong>privacy awareness</strong>. Many users unknowingly upload private torrents to public trackers or enable DHT on restricted content. The analyzer flags these risks clearly.</p> <h3>Privacy by Design</h3> <p>Unlike cloud-based tools, <strong>nothing is uploaded</strong>. Your torrent file is parsed using <code>FileReader</code>, Bencode is decoded in memory, and tracker checks use direct <code>fetch()</code> calls. No logs, no cookies, no telemetry.</p> <h3>Open Source & Community-Driven</h3> <p>The project is fully open source under the <strong>MIT License</strong> and hosted on GitHub. We welcome contributions, bug reports, and feature requests. Whether you want to add UDP tracker simulation, WebTorrent integration, or dark mode — your pull request is welcome.</p> <p><a href="https://github.com/axelbase/torrent-tracker-analyzer" target="_blank" rel="noopener" class="btn btn-outline-primary mt-3">View on GitHub</a></p> <p class="italic-note"><strong>Built for transparency.</strong> Empowering users with knowledge, not control.</p></div> <div id="how-to-use" class="page-section page-container"><h2>How to Use the Torrent Tracker Analyzer</h2> <p>Getting started is simple. Follow these steps to analyze any torrent in under a minute.</p> <h3>Step 1: Upload a .torrent File</h3> <p>Click the <strong>“Drop .torrent file here”</strong> zone or drag a file directly from your file manager. The tool accepts standard <code>.torrent</code> files (Bencoded metadata). You’ll see instant feedback:</p> <ul><li>File name</li> <li>File size (in KB/MB)</li> <li>Success alert with checkmark</li></ul> <p><em>Tip:</em> You can also click to open your system file picker.</p> <h3>Step 2: Or Paste a Magnet Link</h3> <p>Copy a full <code>magnet:</code> URI (including <code>xt=urn:btih:</code> and <code>tr=</code> parameters) and paste it into the text area. The tool extracts:</p> <ul><li>Info hash</li> <li>All tracker URLs</li></ul> <p><strong>Note:</strong> Magnet links do <em>not</em> include file lists — only metadata available in the URI.</p> <h3>Step 3: Click “Analyze”</h3> <p>Once input is provided, the <strong>Analyze</strong> button activates. Click it to begin:</p> <ul><li><strong>Parsing</strong>: Bencode decoding (for files) or URI parsing</li> <li><strong>Hash calculation</strong>: SHA-1 → hex + base32</li> <li><strong>Tracker checks</strong>: Up to 10 concurrent <code>HEAD</code> requests with 5-second timeout</li></ul> <p>A spinner shows progress. Most analyses complete in <strong>3–8 seconds</strong>.</p> <h3>Step 4: Review Results</h3> <p>After analysis, you’ll see:</p> <div class="result-grid"><div class="result-card"><h4>Summary Panel</h4> <p>Info hash, private flag, tracker stats</p></div> <div class="result-card"><h4>File List</h4> <p>Only for .torrent files — full paths + sizes</p></div> <div class="result-card"><h4>Tracker Table</h4> <p>Tiered list with status, latency, public/private</p></div></div> <h3>Step 5: Export or Reset</h3> <p>Use <strong>Export to CSV</strong> or <strong>JSON</strong> to save results. Click <strong>Reset</strong> to clear everything and start over.</p> <h3>Pro Tips</h3> <ul><li>Use <kbd>Ctrl+V</kbd> to paste magnet links</li> <li>Keyboard: <kbd>Enter</kbd> in textarea = Analyze</li> <li>Mobile: Tap to upload or long-press to paste</li></ul> <p class="italic-note"><strong>Fast. Private. Accurate.</strong> Debug torrents like a pro.</p></div> <div id="faq" class="page-section page-container"><h2>Frequently Asked Questions</h2> <details class="faq-item"><summary><strong>What does “Reachable” mean?</strong></summary> <p>A tracker is marked <strong>Reachable</strong> if the browser successfully sends a <code>HEAD</code> request and receives a <code>2xx</code> or <code>3xx</code> response — or if a <code>4xx</code> error confirms the server is online (e.g., <code>400 Bad Request</code> due to missing <code>info_hash</code>).</p> <p><em>It does not guarantee the tracker will return peers</em> — only that it’s alive and responding.</p></details> <details class="faq-item"><summary><strong>Why can’t UDP trackers be checked?</strong></summary> <p>Web browsers <strong>cannot send UDP packets</strong> due to security restrictions. UDP trackers (e.g., <code>udp://...</code>) are marked <em>“not checked”</em> in the results.</p> <p>Use a local client like qBittorrent to test UDP connectivity.</p></details> <details class="faq-item"><summary><strong>Why is the file list empty for magnet links?</strong></summary> <p>Magnet links contain only the <strong>info hash</strong> and <strong>trackers</strong> — <em>not the file list</em>. The file structure is stored in the <code>.torrent</code> file’s <code>info</code> dictionary.</p> <p>To see files, download the <code>.torrent</code> file from the source and upload it here.</p></details> <details class="faq-item"><summary><strong>How is “Private” torrent detected?</strong></summary> <p>A torrent is flagged <strong>Private</strong> if:</p> <ul><li><code>info.private = 1</code> in the Bencoded metadata</li> <li>OR it uses known private tracker domains</li></ul> <p>Private torrents disable DHT and PEX to prevent IP leaks.</p></details> <details class="faq-item"><summary><strong>Is my data safe? Will you see my files?</strong></summary> <p><strong>100% safe.</strong> Your file is <em>never uploaded</em>. All processing uses:</p> <ul><li><code>FileReader</code> API (local)</li> <li>In-memory Bencode parsing</li> <li>Direct <code>fetch()</code> to trackers</li></ul> <p>No server, no logs, no storage. See our <a>Privacy Policy</a>.</p></details> <details class="faq-item"><summary><strong>Can I use this on mobile?</strong></summary> <p>Yes! The tool is <strong>fully responsive</strong> and works on:</p> <ul><li>iOS Safari (14+)</li> <li>Android Chrome</li> <li>Tablets and phones</li></ul> <p>Tap to upload, long-press to paste magnet links.</p></details> <details class="faq-item"><summary><strong>Why is export disabled?</strong></summary> <p>Export buttons appear <strong>only after analysis</strong>. If you see them grayed out:</p> <ul><li>Analysis is still running</li> <li>No trackers were found</li> <li>An error occurred</li></ul></details> <details class="faq-item"><summary><strong>How accurate are response times?</strong></summary> <p>Times are measured from <code>fetch()</code> start to response headers. They include:</p> <ul><li>DNS lookup</li> <li>TCP handshake</li> <li>Server processing</li></ul> <p>Values are rounded to milliseconds and highly accurate under normal conditions.</p></details> <p class="italic-note text-center mt-4"><strong>Still have questions?</strong> Open an issue on <a href="https://github.com/axelbase/torrent-tracker-analyzer" target="_blank" rel="noopener">GitHub</a>.</p></div> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="check-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol></svg>`,1);function an(e,t){ce(t,!1);const r=(...h)=>!1;let n=H(null),o=H(""),a=H(!1),c=H(""),i=H(""),l=H(""),u=H(null),f=H(0),x=H(0),k=H([]),y=H([]),E=H([]),m=H(null);function P(h){try{v(n,h.detail),v(o,""),r("File uploaded:",s(n).name,s(n).size,"bytes")}catch{}}async function Z(){if(!s(n)&&!s(o)){v(c,"Please upload a .torrent file or paste a magnet link.");return}v(a,!0),v(c,"");try{let h;s(n)?(r("Parsing .torrent file:",s(n).name),h=await At(s(n)),v(u,h.isPrivate),r("Torrent parsed successfully")):(r("Parsing magnet link:",s(o)),h=Bt(s(o)),v(u,null),r("Magnet parsed successfully")),v(m,h),v(i,h.infoHash),v(l,h.infoHashBase32);const b=h.trackers,S=b.flat();v(f,S.length),r(`Found ${s(f)} trackers across ${b.length} tiers`),r("Detecting public trackers..."),v(E,S.map((_,L)=>{const M=Ft(_);return M&&r(`Tracker ${L}: ${_} → PUBLIC`),M})),r("Starting tracker reachability checks..."),v(y,await It(S,10)),v(x,s(y).filter(_=>_.success).length),r(`Reachability complete: ${s(x)}/${s(f)} reachable`),v(k,Rt(b)),r("Trackers grouped into tiers"),r("Analysis complete!")}catch(h){v(c,h.message||"Unknown error during analysis")}finally{v(a,!1)}}function I(){try{v(n,null),v(o,""),v(m,null),v(i,""),v(l,""),v(u,null),v(f,0),v(x,0),v(k,[]),v(y,[]),v(E,[]),v(c,""),r("State reset")}catch{}}function q(h){if(h===0)return"0 B";const b=1024,S=["B","KB","MB","GB"],_=Math.floor(Math.log(h)/Math.log(b));return parseFloat((h/Math.pow(b,_)).toFixed(2))+" "+S[_]}le();var U=qt(),V=ne(U),$=g(p(V),2);ot($,{$$events:{upload:P}});var O=g($,2);{var ee=h=>{var b=$t(),S=g(p(b),2),_=g(p(S),2),L=p(_,!0);d(_);var M=g(_);d(S),d(b),z(ae=>{A(L,s(n).name),A(M,` (${ae??""})`)},[()=>q(s(n).size)]),w(h,b)};F(O,h=>{s(n)&&h(ee)})}var K=g(O,2);{var Y=h=>{var b=Nt(),S=g(p(b),2),_=g(p(S),2),L=p(_,!0);d(_),d(S),d(b),z(()=>A(L,s(o))),w(h,b)};F(K,h=>{s(o)&&!s(n)&&h(Y)})}var j=g(K,2),J=g(p(j),2);Xe(J),d(j);var N=g(j,2),X=p(N),me=p(X,!0);d(X);var ve=g(X,2);_t(ve,{$$events:{click:I}}),d(N);var re=g(N,2);{var ke=h=>{var b=Lt();w(h,b)};F(re,h=>{s(a)&&h(ke)})}var ue=g(re,2);{var be=h=>{var b=Mt(),S=p(b,!0);d(b),z(()=>A(S,s(c))),w(h,b)};F(ue,h=>{s(c)&&h(be)})}var B=g(ue,2);{var C=h=>{var b=Wt(),S=ne(b);vt(S,{get infoHash(){return s(i)},get infoHashBase32(){return s(l)},get totalTrackers(){return s(f)},get reachable(){return s(x)},get isPrivate(){return s(u)}});var _=g(S,2);{var L=ye=>{var we=jt(),xe=p(we),Le=p(xe);d(xe);var ze=g(xe,2),De=p(ze);Be(De,5,()=>s(m).files,He,(Me,Ie)=>{var _e=Ot(),Te=p(_e),Oe=p(Te,!0);d(Te);var Ce=g(Te,2),je=p(Ce,!0);d(Ce),d(_e),z(We=>{A(Oe,s(Ie).path),A(je,We)},[()=>q(s(Ie).length)]),w(Me,_e)}),d(De),d(ze),d(we),z(()=>A(Le,`Files (${s(m).files.length??""})`)),w(ye,we)};F(_,ye=>{"files"in s(m)&&s(m).files.length>0&&ye(L)})}var M=g(_,4);gt(M,{get tieredTrackers(){return s(k)},get checkResults(){return s(y)},get publicFlags(){return s(E)}});var ae=g(M,2);wt(ae,{get tieredTrackers(){return s(k)},get checkResults(){return s(y)},get publicFlags(){return s(E)},get analysisData(){return s(m)}}),w(h,b)};F(B,h=>{s(m)&&h(C)})}d(V);var de=g(V,6),pe=g(p(de),10),he=g(p(pe),6),G=g(p(he));Se(),d(he),d(pe),Se(8),d(de),Se(2),z(()=>{X.disabled=s(a)||!s(n)&&!s(o),A(me,s(a)?"Analyzing...":"Analyze"),Qe(G,"href",`${et??""}/privacy`)}),nt(J,()=>s(o),h=>v(o,h)),R("click",X,Z),w(e,U),ie()}export{an as component,rn as universal};
